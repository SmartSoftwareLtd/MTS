@model AuctionInventory.Models.Lots

@{
    ViewBag.Title = "SaveExpenseLot";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


@using (Html.BeginForm("SaveExpenseLot", "MExpenses", FormMethod.Post, new { id = "popupForm" }))
{

    if (Model != null && Model.iLotID > 0)
    {
        @Html.HiddenFor(a => a.iLotID)

    }

    <div class="row">

        <div class="col-md-4">
            <div class="form-group">
                @Html.TextBoxFor(a => a.chLotType, new { @type = "hidden", @id = "hdnLotType" })
                <label>Lot Name:</label>
                @Html.TextBoxFor(a => a.strLotName, new { @class = "form-control", @id = "txtLotName" })
                @Html.ValidationMessageFor(a => a.strLotName)
            </div>
        </div>
        <div class="col-md-4">

            <div class="form-group">
                <label>From Date:</label>
                @Html.TextBoxFor(a => a.dtFromDate, new { @type = "hidden", @id = "dtFromDate" })

                @Html.TextBoxFor(a => a.strFromDate, new { @class = "form-control datepicker", @name = "DateTextBox", @id = "txtFromDate", @placeholder = "Enter Drop-off date here..." })
                @Html.ValidationMessageFor(a => a.strFromDate)
            </div>
        </div>

        <div class="col-md-4">
            <div class="form-group">
                <label>To Date:</label>

                @Html.TextBoxFor(a => a.dtToDate, new { @type = "hidden", @id = "dtToDate" })

                @Html.TextBoxFor(a => a.strToDate, new { @class = "form-control datepicker", @name = "DateTextBox", @id = "txtToDate", @placeholder = "Enter Drop-off date here..." })
                @Html.ValidationMessageFor(a => a.strToDate)
            </div>

        </div>

        <div class="form-group col-sm-3">
           

            <select id="ddlExpType" class="form-control input-group-sm">
                @*<option value="GE">General Expense</option>*@
                <option value="CR">Clearing Charges</option>
                <option value="RC">Repairing Charges</option>
                <option value="D">Import Duty</option>
            </select>
           

        </div>

        <input type="submit" name='dailogBox' style="margin-left: 400px;" id="btnSave" class="btn btn-success col-md-1" value="Save">
    </div>

}

@*<div>
        <table id="dataGrid" class="table table-bordered table-striped"></table>
        <div id="pagingGrid"></div>
        <br><br>
    </div>*@

<script type="text/javascript">
    $(function () { // will trigger when the document is ready
        debugger
      
        setSelectedIndexByValue(document.getElementById('ddlExpType'), $("#hdnLotType").val());

       

        
        $('.datepicker').datepicker({ dateFormat: 'mm/dd/yy' }); //Initialise any date pickers
        //$("#txtFromDate").datepicker().datepicker("setDate", new Date());

        $('.datepicker').datepicker({ dateFormat: 'mm/dd/yy' }); //Initialise any date pickers
        //$("#txtToDate").datepicker().datepicker("setDate", new Date());


        //$("#dtFromDate").val($("#txtFromDate").val());
        //$("#dtToDate").val($("#txtToDate").val());


        //$("#hdnLotType").val('E');






        if (Model.iLotID == 0) {

            $("#txtFromDate").val("");
            $("#txtToDate").val("");
            $("#hdnLotType").val("");
            $("#dtFromDate").val("");
            $("#dtToDate").val("");
            $("#txtLotName").val("");

        }

    });

    $("#btnSave").click(function () {
        $("#dtFromDate").val($("#txtFromDate").val());
        $("#dtToDate").val($("#txtToDate").val());

        $("#hdnLotType").val($("#ddlExpType").val());

    });



</script>

<script src="~/Content/dist/js/Custom.js"></script>